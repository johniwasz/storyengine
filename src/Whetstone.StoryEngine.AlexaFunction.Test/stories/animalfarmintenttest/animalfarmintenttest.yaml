id: animalfarmpi
title: Animal Farm Test
description: Investigate the farm as a pig.
invocationNames:
- text: animal farm test
- locale: en-CA
  text: animal farm test
startNodeName: Opening
newUserNodeName: WelcomeNewUser
returningUserNodeName: ReturningUser
resumeNodeName: Resume
helpNodeName: Help
stopNodeName: StopGame
endOfGameNodeName: EndofGame
nodes:
- name: Opening
  responseSet:
  - - cardTitle: Beautiful Morning
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: It was a dark and stormy night. Hey! That doesn’t make any sense! That music didn’t sound dark and stormy at all! It sounds to me more like a bright and chipper morning!
      repromptTextResponse: Should we go with dark and stormy, or bright and chipper
      clientResponses:
      - speechFragments:
        - !sf-audio
          fileName: Act1-OpeningMusic-alexa.mp3
        - !sf-textfrag
          text: It was a dark and stormy night. <break time="500ms"/><say-as interpret-as="interjection">no way!</say-as> I'm not doing this. That doesn’t make any sense!  That music didn’t sound dark and stormy at <prosody volume="x-loud" pitch="+10%">all!</prosody>  It sounds to me more like a bright and chipper morning! Should we go with dark and stormy, or bright and chipper?
  choices:
  - intentName: DarkAndStormyIntent
    nodeMapping: !nm-singlenode
      nodeName: DarkPath1
  - intentName: BrightAndChipperIntent
    nodeMapping: !nm-singlenode
      nodeName: BrightPath1
- name: ReturningUser
  responseSet:
  - - cardTitle: Welcome Back to Animal Farm P.I.
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: Welcome back to the farm! When you are ready to begin the investigation, say begin.
      repromptTextResponse: Say begin to begin the investigation.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: Welcome back to the farm! When you are ready to begin the animal farm investigation, say begin.
  choices:
  - intentName: StartInvestigationIntent
    nodeMapping: !nm-singlenode
      nodeName: Opening
  smallImageFile: afi-welcome-sm.png
  largeImageFile: afi-welcome-lg.png
- name: Help
  responseSet:
  - - cardTitle: Animal Farm PI Help
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You can end the game by saying end game.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You repeat the current location by saying repeat. End the game by saying end game or restart by saying restart.
- name: WelcomeNewUser
  responseSet:
  - - cardTitle: Welcome to Animal Farm P.I.
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: Since this is your first time here, I'll give you the intro. You play the part of Petunia the Pig and help resolve problems around Old Man MacDonald's farm as they come up. You can ask for help at any time by saying help.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: Since this is your first time here, I'll give you the intro. You play the part of Petunia the Pig and help resolve problems around Old Man MacDonald's farm as they come up. You can ask for help at any time by saying help. You can stop the investigation at any time by saying stop or exit. When you are ready to begin, say begin.
      clientSpeechReprompts:
      - speechFragments:
        - !sf-textfrag
          text: Say begin to begin the investigation.
  choices:
  - intentName: StartInvestigationIntent
    nodeMapping: !nm-singlenode
      nodeName: Opening
  smallImageFile: afi-welcome-sm.png
  largeImageFile: afi-welcome-lg.png
- name: Resume
  responseSet:
  - - cardTitle: Welcome Back to Animal Farm P.I.
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You have an investigation in progress. You can resume where you left off or restart.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You have an investigation in progress. You can resume where you left off or restart.
      clientSpeechReprompts:
      - speechFragments:
        - !sf-textfrag
          text: To resume, say resume. To restart, say restart. You can also ask for help by saying help.
  smallImageFile: afi-welcome-sm.png
  largeImageFile: afi-welcome-lg.png
- name: StopGame
  responseSet:
  - - cardTitle: Exiting Animal Farm P.I.
      textFragments:
      - !tf-simple
        text: Thanks for playing Animal Farm P.I.!
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: Thanks for playing!
- name: EndofGame
  responseSet:
  - - cardTitle: End Game
      textFragments:
      - !tf-simple
        text: That's it for this path, but there are others to explore. Would you like to end the game or try again?
      repromptTextResponse: Restart or end game?
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: That's it for this path, but there are others to explore. Would you like to end the game or try again?
  choices:
  - intentName: TryAgainIntent
    nodeMapping: !nm-singlenode
      nodeName: Opening
  - intentName: EndGameIntent
    nodeMapping: !nm-singlenode
      nodeName: StopGame
- name: DarkPath1
  responseSet:
  - - cardTitle: Dark Path
      sendCardResponse: false
      textFragments:
      - !tf-simple
        text: Oh really?  Does this really sound like dark and stormy to you? I’m guessing you might be into Depeche Mode and brood a lot. Can we please just go with bright and chipper?
      repromptTextResponse: Say yes for bright and chipper, no for dark and stormy.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: Oh really?  Does this sound like dark and stormy to you?
        - !sf-audio
          fileName: Act1-OpeningMusicScratch-alexa.mp3
        - !sf-textfrag
          text: <break time="300ms" /><phoneme alphabet="ipa" ph="hɑɹʌmf">Harumph</phoneme>. I’m guessing you might be into Depeche Mode. And brood a lot. Can we please just go with bright and chipper?
  choices:
  - intentName: YesIntent
    nodeMapping: !nm-singlenode
      nodeName: BrightPath1
  - intentName: NoIntent
    nodeMapping: !nm-singlenode
      nodeName: DarkPath2
- name: DarkPath2
  responseSet:
  - - cardTitle: Dark Path
      sendCardResponse: false
      textFragments:
      - !tf-simple
        text: Good grief! When I was young, life seemed so full of promise. I had dreams you know. Big dreams. I really have better things to do. Can we please just go with bright and chipper?
      repromptTextResponse: Say yes for bright and chipper, no for dark and stormy.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: <say-as interpret-as="interjection">good grief</say-as>. <break time="250ms" /> When I was young, life seemed so full of promise. I had dreams you know. <break time="200ms" />Big dreams.<break time="100ms" />  I really have better things to do. Can we please just go with bright and chipper?
  choices:
  - intentName: YesIntent
    nodeMapping: !nm-singlenode
      nodeName: BrightPath1
  - intentName: NoIntent
    nodeMapping: !nm-singlenode
      nodeName: DarkPath3
- name: DarkPath3
  responseSet:
  - - cardTitle: Dark Path
      sendCardResponse: false
      textFragments:
      - !tf-simple
        text: You’re just not going to let this go, are you? Alright. Cards on the table. If you say no, I’m just going to start repeating myself. So how about you be a good egg, and let me go with bright and chipper?
      repromptTextResponse: Say yes for bright and chipper, no for dark and stormy.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You’re just not going to let this go, are you. <break time="100ms" />Alright. Cards on the table. If you say no, I’m just going to start repeating myself. So how about you be a good egg, and let me go with bright and chipper?
  choices:
  - intentName: YesIntent
    nodeMapping: !nm-singlenode
      nodeName: BrightPath1
  - intentName: NoIntent
    nodeMapping: !nm-multinode
      nodeNames:
      - DarkPath1
      - DarkPath2
      - DarkPath3
  actions:
  - !na-inventory
    item: !nt-uniqueitem
      name: DarkAlbum
    actionType: Add
- name: BrightPath1
  responseSet:
  - - cardTitle: Bright Morning
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: It was a bright and chipper morning at the farm. Old Man MacDonald was planning on starting up the tractor for some field work, but it looks like he's missing his keys and is not happy about it. You open your eyes at the sound of the commotion just as Old Man MacDonald storms back to the house. You sleepily look around the sty at the rest of your fellow pigs and try to decide if you should wallow a bit or go to the tractor.
      repromptTextResponse: Do you want to wallow in the sty or go to the tractor?
      clientResponses:
      - speechFragments:
        - !sf-audio
          fileName: Act1-OpeningMusicSlowdown-alexa.mp3
        - !sf-textfrag
          text: <say-as interpret-as="interjection">yadda yadda yadda</say-as>! It was a bright and chipper morning at the farm. Old Man MacDonald was starting up the tractor for some field work. <break time="200ms" />
        - !sf-audio
          fileName: Act1-OldManMacDonaldKeys-alexa.mp3
        - !sf-textfrag
          text: <break time="100ms" />You open your eyes at the sound of the commotion just as Old Man MacDonald storms back to the house.  You sleepily look around the sty at the rest of your fellow pigs and try to decide if you should wallow a bit or go to the tractor.
      clientSpeechReprompts:
      - speechClient: Alexa
        speechFragments:
        - !sf-textfrag
          text: Do you want to wallow in the sty or go to the tractor?
  choices:
  - intentName: WallowIntent
    nodeMapping: !nm-singlenode
      nodeName: WallowInMud
  - intentName: GotoLocationIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: VisitTractor
        requiredSlotValues:
          location:
          - tractor
- name: WallowInMud
  responseSet:
  - - cardTitle: Wallow
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: As you happily wallow in the sty, it briefly occurs to you that it’s not just mud that you’re wallowing in, but hey – you’re a pig and you’re happy! Your reverie is interrupted as you spot Terrence the rat scurrying in your direction. He’s carrying something shiny. Do you want to wait for Terrence or go to him?
      repromptTextResponse: Do you want to wait for Terrence, or go to him?
      clientResponses:
      - speechFragments:
        - !sf-audio
          fileName: Act1-WallowingPig-alexa.mp3
        - !sf-textfrag
          text: <break time="100ms" />As you happily wallow in the sty, it briefly occurs to you that it’s not just mud that you’re wallowing in, but hey – you’re a pig and you’re happy! <break time="100ms" />Your reverie is interrupted as you spot Terrence the rat scurrying in your direction.
        - !sf-audio
          fileName: Act1-TerrenceLookOnHisFace-alexa.mp3
        - !sf-textfrag
          text: He’s carrying something shiny. Do you want to wait for Terrence, or go to him?
  choices:
  - intentName: WaitForIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: WaitForTerrence
        requiredSlotValues:
          character:
          - terrence
          - him
  - intentName: GotoLocationIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: GoToTerrence
        requiredSlotValues:
          location:
          - terrence
          - him
- name: VisitTractor
  responseSet:
  - - cardTitle: Go to the tractor
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You heave yourself up from the noxious filth you’ve been luxuriating in, lumber out the sty gate and head towards the tractor.  You spot Terrence the rat scurrying towards you.  He’s carrying something shiny.  Do you want to wait for Terrence or go to him?
      repromptTextResponse: Do you want to wait for Terrence, or go to him?
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You heave yourself up from the noxious filth you’ve been luxuriating in, lumber out the sty gate and head towards the tractor.  You spot Terrence the rat scurrying towards you.
        - !sf-audio
          fileName: Act1-TerrenceLookOnHisFace-alexa.mp3
        - !sf-textfrag
          text: He’s carrying something shiny.  Do you want to wait for Terrence, or go to him?
  choices:
  - intentName: WaitForIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: WaitForTerrence
        requiredSlotValues:
          character:
          - Terrence
          - him
  - intentName: GotoLocationIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: GoToTerrence
        requiredSlotValues:
          location:
          - Terrence
          - him
- name: WaitForTerrence
  responseSet:
  - - cardTitle: Wait for Terrence
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: As he gets closer, you can clearly see that Terrence is carrying a set of keys. Would you like to talk to Terrence or take the keys?
      repromptTextResponse: Would you like to talk to Terrence or take the keys?
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: As he gets closer, you can clearly see that Terrence is carrying a set of keys.
        - !sf-audio
          fileName: Act1-JinglingKeys-alexa.mp3
        - !sf-textfrag
          text: Would you like to talk to Terrence or take the keys?
  choices:
  - intentName: TakeItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: TakeKeys
        requiredSlotValues:
          item:
          - keys
  - intentName: TalkToIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: TalkToTerrence
        requiredSlotValues:
          character:
          - Terrence
          - him
- name: GoToTerrence
  responseSet:
  - - cardTitle: Go to Terrence
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: As you approach him, you can clearly see that Terrence is carrying a set of keys. Would you like to talk to Terrence or take the keys?
      repromptTextResponse: Would you like to talk to Terrence or take the keys?
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: As you approach him,, you can clearly see that Terrence is carrying a set of keys.
        - !sf-audio
          fileName: Act1-JinglingKeys-alexa.mp3
        - !sf-textfrag
          text: Would you like to talk to Terrence or take the keys?
  choices:
  - intentName: TakeItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: TakeKeys
        requiredSlotValues:
          item:
          - keys
  - intentName: TalkToIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: TalkToTerrence
        requiredSlotValues:
          character:
          - Terrence
          - him
- name: TakeKeys
  responseSet:
  - - cardTitle: Take the Keys
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You open your mouth and make a lunge for the keys, but your porcine snout knocks Terrence back before you can grab them. Terrence seems angry, but then says he would like a stinky mackerel and sauerkraut sandwich. Hmmmm… I’ll bet if you get Terrence a sandwich you can get the tractor keys from him, and then give them back to Old Man McDonald. Let’s do it!  Would you like to go to the barn, the pond or the kitchen?
      repromptTextResponse: Would you like to go to the barn, the pond, or the kitchen?
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You open your mouth and make a lunge for the keys, but your porcine snout knocks Terrence back before you can grab them.
        - !sf-audio
          fileName: Act1-TerrenceOwPetunia-alexa.mp3
        - !sf-textfrag
          text: <break time="250ms"/>Suddenly Terrence's eyes greedily light up.
        - !sf-audio
          fileName: Act1-TerrenceStinkyMackerel-alexa.mp3
        - !sf-textfrag
          text: Hmmmm… I’ll bet if you get Terrence a stinky mackerel and sauerkraut sandwich, you can get the tractor keys from him, and then give them back to Old Man McDonald. <break time="100ms" /><prosody volume="x-loud">Let’s do it!</prosody>  Would you like to go to the barn, the pond,  or the kitchen?
  choices:
  - intentName: GotoLocationIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: BarnStart
        requiredSlotValues:
          location:
          - barn
      - nodeMap: !nm-singlenode
          nodeName: KitchenStart
        requiredSlotValues:
          location:
          - kitchen
      - nodeMap: !nm-singlenode
          nodeName: PondStart
        requiredSlotValues:
          location:
          - pond
- name: TalkToTerrence
  responseSet:
  - - cardTitle: Talk to Terrence
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You meet up with Terrence and talk to him.  After some back and forth, Terrence agrees to give you the keys in exchange for a stinky mackerel and sauerkraut sandwich. Well that seems simple – now all you need to do is find everything to make the sandwich! Would you like to start at the barn, the pond or the kitchen?
      repromptTextResponse: You can say go to the barn, go to the pond or go to the kitchen?
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You approach Terrence, expecting an exercise in patience. <break time="100ms" />
        - !sf-audio
          fileName: Act1-TerrencePetuniaKeys-alexa.mp3
        - !sf-textfrag
          text: Terrence pauses for a moment and then is clearly struck by divine inspiration.
        - !sf-audio
          fileName: Act1-TerrenceTellYouWhat-alexa.mp3
        - !sf-textfrag
          text: <break time="100ms"/> <prosody volume="x-loud">Well that seems simple!</prosody>Now all you need to do is find everything to make a stinky mackerel and sauerkraut sandwich!  Would you like to start at the barn, the pond, or the kitchen?
  choices:
  - intentName: GotoLocationIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: BarnStart
        requiredSlotValues:
          location:
          - barn
      - nodeMap: !nm-singlenode
          nodeName: KitchenStart
        requiredSlotValues:
          location:
          - kitchen
      - nodeMap: !nm-singlenode
          nodeName: PondStart
        requiredSlotValues:
          location:
          - pond
- name: BarnStart
  responseSet:
  - - cardTitle: Visit Barn
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: As you walk to the barn and think about the sandwich, it occurs to you that you know someone with an unhealthy fixation on fish who may be able to help.  Asking around, you are directed to Milfred a catnip-addled kitty at the back of the barn. Would you like to see Milfred or talk to more animals?
      repromptTextResponse: Would you like to go to Milfred, or talk to more animals?
      clientResponses:
      - speechFragments:
        - !sf-audio
          fileName: Act2-VisitBarnAnimalNoises-alexa.mp3
        - !sf-textfrag
          text: As you walk to the barn and think about the sandwich, it occurs to you that you know someone with an unhealthy fixation on fish who may be able to help.  You enter the barn to the greetings of the various occupants.
        - !sf-audio
          fileName: Act2-HorseCowMorning-alexa.mp3
        - !sf-textfrag
          text: <break time="500ms"/>Would you like to go to Milfred, or talk to more animals?
  choices:
  - intentName: GotoLocationIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: MilfredStart
        requiredSlotValues:
          location:
          - milfred
  - intentName: TalkToIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: TalkToAnimals
        requiredSlotValues:
          character:
          - animals
- name: TalkToAnimals
  responseSet:
  - - cardTitle: Talk To More Animals
      sendCardResponse: false
      textFragments:
      - !tf-simple
        text: It’s a beautiful day!  You too!  You too!  It IS a beautiful day!  The rest of the animals are too busy eating their morning slop to talk to you.  Let me know when you’re ready to see Milfred by saying “go to Milfred”.
      repromptTextResponse: Let me know when you’re ready to see Milfred by saying “go to Milfred”.
      clientResponses:
      - speechFragments:
        - !sf-audio
          fileName: Act2-TalkToAnimals-alexa.mp3
        - !sf-textfrag
          text: <break time="500ms"/>The rest of the animals are too busy eating their morning slop to talk to you and make 20 year old music references. Let me know when you’re ready to see Milfred by saying “go to Milfred”.
  choices:
  - intentName: GotoLocationIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: MilfredStart
        requiredSlotValues:
          location:
          - milfred
- name: MilfredStart
  responseSet:
  - - cardTitle: Visit Milfred
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You head towards the back of the barn and come upon a ratty couch illuminated by a couple of lava lamps and a flickering black light.  Sprawled on the couch is a slightly mangy orange tabby snoring along to a skipping record. The cat is clutching what looks like a partially decomposed fish.  Would you like to wake up the cat, or turn off the music?
      repromptTextResponse: Would you like to wake up the cat, or turn off the music?
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You head towards the back of the barn and come upon a ratty couch illuminated by a couple of lava lamps and a flickering black light.  Sprawled on the couch is a slightly mangy orange tabby snoring along to a skipping record.
        - !sf-audio
          fileName: Act2-MilfredSnoring-alexa.mp3
        - !sf-textfrag
          text: <break time="350ms"/>The cat is clutching what looks like a partially decomposed fish.  Would you like to wake up the cat, or turn off the music?
  choices:
  - intentName: VerbTheCharacterIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: WakeMilfred1
        requiredSlotValues:
          verb:
          - wake
          character:
          - Milfred
  - intentName: TurnOffItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: StopRecord
        requiredSlotValues:
          item:
          - music
          - record
          - phonograph
- name: WakeMilfred1
  responseSet:
  - - cardTitle: Wake Milfred
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You lean in with your snout to give Milfred a gentle prod, but the horrible smell coming from the decaying fish prevents you from getting any closer. Would you still like to try to wake up Milfred, or turn off the music?
      repromptTextResponse: You can say wake up Milfred, or turn off the music?
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You lean in with your snout to give Milfred a gentle prod, but the horrible smell coming from the decaying fish prevents you from getting any closer.
        - !sf-audio
          fileName: Act2-WakeMilfred1-alexa.mp3
        - !sf-textfrag
          text: Would you still like to try to wake up Milfred, or turn off the music?
  choices:
  - intentName: VerbTheCharacterIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: WakeMilfred2
        requiredSlotValues:
          verb:
          - wake
          character:
          - Milfred
  - intentName: TurnOffItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: StopRecord
        requiredSlotValues:
          item:
          - music
          - record
          - phonograph
- name: WakeMilfred2
  responseSet:
  - - cardTitle: Wake Milfred Again
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You try once again to prod Milfred, but in an attempt to avoid the fish, you accidentally bump the record player.  Oh oh – now you’ve done it. Apparently the music was keeping Milfred in dreamland.  Now he's awake and he’s not happy.  After a brief conversation, you find out that the fish is a Mackerel named Ferb and Milfred offers to trade you the mackerel in exchange for some catnip. You can try to take the mackerel or you can go to the garden to get some catnip.
      repromptTextResponse: You can try to take the mackerel. Or you can go to the garden to get some catnip.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You try once again to prod Milfred, but in an attempt to avoid the fish, you accidentally bump the record player.
        - !sf-audio
          fileName: Act2-KittyBumpCrash-alexa.mp3
        - !sf-textfrag
          text: Well that was unfortunate.  On the bright side, Milfred is awake now - although he looks somewhat annoyed.
        - !sf-audio
          fileName: Act2-WakeMilfred-alexa.mp3
        - !sf-textfrag
          text: <break time="250ms"/>You can try to take the mackerel. Or you can go to the garden to get some catnip.
  choices:
  - intentName: TakeItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: TakeMackerel
        requiredSlotValues:
          item:
          - mackerel
  - intentName: GotoLocationIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: GoToGarden
        requiredSlotValues:
          location:
          - garden
- name: StopRecord
  responseSet:
  - - cardTitle: Stop The Record
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You reach for the needle and accidentally bump the record player. Oh oh – now you’ve done it. Apparently the music was keeping Milfred in dreamland. Now he's awake and he’s not happy.  After a brief conversation, you find out that the fish is a Mackerel named Ferb and Milfred offers to trade you the mackerel in exchange for some catnip. You can try to take the mackerel or you can go to the garden to get some catnip.
      repromptTextResponse: You can try to take the mackerel.  Or you can go to the garden to get some catnip.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You reach for the record player needle.
        - !sf-audio
          fileName: Act2-KittyBumpCrash-alexa.mp3
        - !sf-textfrag
          text: Well that was unfortunate.  On the bright side, Milfred is awake now - although he looks somewhat annoyed.
        - !sf-audio
          fileName: Act2-WakeMilfred-alexa.mp3
        - !sf-textfrag
          text: <break time="250ms"/>You can try to take the mackerel. Or you can go to the garden to get some catnip.
  choices:
  - intentName: TakeItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: TakeMackerel
        requiredSlotValues:
          item:
          - mackerel
  - intentName: GotoLocationIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: GoToGarden
        requiredSlotValues:
          location:
          - garden
- name: TakeMackerel
  responseSet:
  - - cardTitle: Take The Mackerel
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You look Milfred square in the eyes and slowly and deliberately reach for the mackerel. Milfred attempted to hit you with pepper spray, but accidentally pulled out an airhorn, startling himself and is now cowering under the couch with Ferb.
      repromptTextResponse: You can pick up the airhorn, or go to the garden.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You look Milfred square in the eyes and slowly and deliberately reach for the mackerel.
        - !sf-audio
          fileName: Act2-TakeMackerel-alexa.mp3
        - !sf-textfrag
          text: This just doesn't seem to be a good day for Milfred.  He was going to pepper spray you, but accidentally pulled out an airhorn that he's now dropped on the floor.  The startled kitty is cowering under the couch with Ferb.
        - !sf-condition
          conditions:
          - WentBackToBarn
          trueResultFragments:
          - !sf-textfrag
            text: You really should pickup the airhorn.
          falseResultFragments:
          - !sf-textfrag
            text: You can pick up the airhorn, or go to the garden.
      clientSpeechReprompts:
      - speechFragments:
        - !sf-condition
          conditions:
          - WentBackToBarn
          trueResultFragments:
          - !sf-textfrag
            text: Say pick up airhorn to pickup the airhorn.
          falseResultFragments:
          - !sf-textfrag
            text: You can pick up the airhorn, or go to the garden.
  choices:
  - intentName: TakeItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: PickupAirhorn
        requiredSlotValues:
          item:
          - airhorn
  - intentName: GotoLocationIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: GoToGarden
        requiredSlotValues:
          location:
          - garden
  actions:
  - !na-recordvisit
- name: PickupAirhorn
  responseSet:
  - - cardTitle: Pickup The Airhorn
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You pickup the airhorn and leave the barn for the garden.  Milfred and Ferb don’t look like they’re going anywhere soon.  After a brisk jaunt, you arrive at the garden.  You head for the herb section and browse past some oregano to a section labelled catnip.  Several crows circle overhead.
      repromptTextResponse: You can pick some oregano, pick some catnip, or play your airhorn.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You pickup the airhorn and leave the barn for the garden.  Milfred and Ferb don’t look like they’re going anywhere soon.
        - !sf-audio
          fileName: Act2-BirdsChirping-alexa.mp3
        - !sf-condition
          conditions:
          - WentBackToBarn
          trueResultFragments:
          - !sf-textfrag
            text: You march straight back to the catnip, a glint of determination in your eyes.  The crows see you coming and openly mock you.
          - !sf-audio
            fileName: Act2-BirdsLaughing-alexa.mp3
          - !sf-textfrag
            text: <break time="200ms" />Say play airhorn when you're ready to give those pesky crows their due.
          falseResultFragments:
          - !sf-textfrag
            text: After a brisk jaunt, you arrive at the garden.  You head for the herb section and browse past some oregano until you find some catnip <break strength="x-strong"/><break time="250ms" />Several crows circle overhead.
          - !sf-audio
            fileName: Act2-CrowsCawing-alexa.mp3
          - !sf-textfrag
            text: <break time="200ms" />You can pick some oregano, pick some catnip, or play your airhorn.
      clientSpeechReprompts:
      - speechFragments:
        - !sf-condition
          conditions:
          - WentBackToBarn
          trueResultFragments:
          - !sf-textfrag
            text: Say play airhorn to play the airhorn.
          falseResultFragments:
          - !sf-textfrag
            text: You can pick some oregano, pick some catnip, or play your airhorn.
  choices:
  - intentName: TakeItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: PickOregano
        requiredSlotValues:
          item:
          - oregano
      - nodeMap: !nm-singlenode
          nodeName: PickCatnip
        requiredSlotValues:
          item:
          - catnip
  - intentName: VerbTheItemIntent
    conditions:
    - HasAirhorn
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: PlayAirhorn
        requiredSlotValues:
          item:
          - airhorn
          verb:
          - play
  actions:
  - !na-inventory
    item: !nt-uniqueitem
      name: Airhorn
    actionType: Add
- name: GoToGarden
  responseSet:
  - - cardTitle: Go To The Garden
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: After a brisk jaunt, you arrive at the garden. You head for the herb section and browse past some oregano to a section labelled catnip. Several crows circle overhead.
      repromptTextResponse: You can pick some oregano, pick some catnip or play your airhorn.
      clientResponses:
      - speechFragments:
        - !sf-audio
          fileName: Act2-BirdsChirping-alexa.mp3
        - !sf-textfrag
          text: After a brisk jaunt, you arrive at the garden.  You head for the herb section and browse past some oregano until you find some catnip <break strength="x-strong"/><break time="250ms" />Several crows circle overhead.
        - !sf-audio
          fileName: Act2-CrowsCawing-alexa.mp3
        - !sf-condition
          conditions:
          - HasAirhorn
          trueResultFragments:
          - !sf-textfrag
            text: <break time="200ms" />You can pick some oregano, pick some catnip, or play the airhorn.
          falseResultFragments:
          - !sf-textfrag
            text: <break time="200ms" />You can pick some oregano, or pick some catnip.
      clientSpeechReprompts:
      - speechFragments:
        - !sf-condition
          conditions:
          - HasAirhorn
          trueResultFragments:
          - !sf-textfrag
            text: You can pick some oregano, pick some catnip, or play the airhorn.
          falseResultFragments:
          - !sf-textfrag
            text: You can pick some oregano, or pick some catnip.
  choices:
  - intentName: TakeItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: PickOregano
        requiredSlotValues:
          item:
          - oregano
      - nodeMap: !nm-singlenode
          nodeName: PickCatnip
        requiredSlotValues:
          item:
          - catnip
  - intentName: VerbTheItemIntent
    conditions:
    - HasAirhorn
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: PlayAirhorn
        requiredSlotValues:
          item:
          - airhorn
          verb:
          - play
- name: PickOregano
  responseSet:
  - - cardTitle: Pick Some Oregano
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: Really? Really? You’re going to try to fool Milfred with oregano instead of catnip? That’s not very nice. The crows in the garden shake their heads at you.
      repromptTextResponse: You can pick some oregano, pick some catnip or play your airhorn.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: <say-as interpret-as="interjection">now now</say-as> <break time="350ms"/>You’re going to try to fool Milfred with oregano instead of catnip? That’s not very nice.
        - !sf-audio
          fileName: Act2-DisappointmentFanfare1-alexa.mp3
        - !sf-textfrag
          text: The crows in the garden shake their heads at you.  Say pick catnip when you want to pick some catnip
        - !sf-condition
          conditions:
          - HasAirhorn
          trueResultFragments:
          - !sf-textfrag
            text: or play the airhorn to play your airhorn
      clientSpeechReprompts:
      - speechFragments:
        - !sf-textfrag
          text: Say pick catnip when you want to pick some catnip
        - !sf-condition
          conditions:
          - HasAirhorn
          trueResultFragments:
          - !sf-textfrag
            text: or play the airhorn to play your airhorn
  choices:
  - intentName: TakeItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: PickCatnip
        requiredSlotValues:
          item:
          - catnip
  - intentName: VerbTheItemIntent
    conditions:
    - HasAirhorn
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: PlayAirhorn
        requiredSlotValues:
          item:
          - airhorn
          verb:
          - play
- name: PickCatnip
  responseSet:
  - - cardTitle: Pick Some Catnip
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: As you approach the catnip plants, the crows relieve themselves on you driving you back. How rude!
      repromptTextResponse: You know, now might be a good time to play the airhorn.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: As you approach the catnip plants the crows relieve themselves on you driving you back.
        - !sf-audio
          fileName: Act2-CrowsCawingSplat-alexa.mp3
        - !sf-textfrag
          text: <say-as interpret-as="interjection">d'oh</say-as>!
        - !sf-condition
          conditions:
          - HasAirhorn
          trueResultFragments:
          - !sf-textfrag
            text: <break time="200ms" />Hmmmm... now might be a good time to play the airhorn.
          falseResultFragments:
          - !sf-textfrag
            text: You might have missed something back at the barn. Say go back to barn to go back to the barn.
      clientSpeechReprompts:
      - speechFragments:
        - !sf-condition
          conditions:
          - HasAirhorn
          trueResultFragments:
          - !sf-textfrag
            text: Now might be a good time to play your airhorn.
          falseResultFragments:
          - !sf-textfrag
            text: You might have missed something back at the barn. Say go back to barn to go back to the barn.
  choices:
  - intentName: GotoLocationIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: BackToBarn
        requiredSlotValues:
          location:
          - barn
  - intentName: VerbTheItemIntent
    conditions:
    - HasAirhorn
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: PlayAirhorn
        requiredSlotValues:
          item:
          - airhorn
          verb:
          - play
- name: BackToBarn
  responseSet:
  - - cardTitle: Back To The Barn
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You go back to the barn and find Milfred on the couch whispering sweet nothings to the stinky mackerel.
      repromptTextResponse: You can try to take the mackerel. Or you can go to the garden to get some catnip.
      clientResponses:
      - speechFragments:
        - !sf-condition
          conditions:
          - DroppedAirhorn
          trueResultFragments:
          - !sf-textfrag
            text: You return to the barn to find Milfred still cowering under the couch.  The airhorn is right where he dropped it.  You really should pick up that airhorn.
          falseResultFragments:
          - !sf-textfrag
            text: You return to the barn and find Milfred on the couch whispering sweet nothings to the stinky mackerel.  You should try to take the mackerel from him.
      clientSpeechReprompts:
      - speechFragments:
        - !sf-condition
          conditions:
          - DroppedAirhorn
          trueResultFragments:
          - !sf-textfrag
            text: Say pick up airhorn to pick up the airhorn.
          falseResultFragments:
          - !sf-textfrag
            text: Say take mackerel to take the mackerel.
  choices:
  - intentName: TakeItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: TakeMackerel
        requiredSlotValues:
          item:
          - mackerel
      - nodeMap: !nm-singlenode
          nodeName: PickupAirhorn
        requiredSlotValues:
          item:
          - airhorn
  actions:
  - !na-recordvisit
- name: PlayAirhorn
  responseSet:
  - - cardTitle: Play Your Airhorn
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You whip out your trusty airhorn, valiantly point it at the crows and press the button.  The crows really don’t like that and fly away. You get to the catnip, pick a handful and place it in a plastic baggy. One stinky mackerel coming right up!
      repromptTextResponse: Say go to barn when you’re ready to head back.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You whip out your trusty airhorn, valiantly point it at the crows, and press the button.
        - !sf-audio
          fileName: Act2-PlayAirhorn-alexa.mp3
        - !sf-textfrag
          text: <say-as interpret-as="interjection">booya</say-as>! The crows really didn’t like that and flew away.  You get to the catnip, pick a handful and carefully place it in a plastic baggy.  One stinky mackerel coming right up!  When you are ready to go back to the barn, say go to barn.
  choices:
  - intentName: GotoLocationIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: BackToBarnVictory
        requiredSlotValues:
          location:
          - barn
- name: BackToBarnVictory
  responseSet:
  - - cardTitle: Give Catnip To Milfred
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: Looks like Milfred is still under the sofa. You drop the plastic baggy of catnip in front of the couch. An orange paw reaches out, grabs the baggy and exchanges it for Ferb, the stinky mackerel. You take the decomposing fish, place it in a tightly sealed bag and beat a hasty retreat. You need to decide where to go next.
      repromptTextResponse: Let me know if you would like to go to the pond or the kitchen next.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: Looks like Milfred is still under the sofa. You drop the plastic baggy of catnip in front of the couch. An orange <phoneme alphabet="ipa" ph="paʊw.">paw</phoneme> reaches out, grabs the baggy and exchanges it for Ferb, the stinky mackerel.
        - !sf-audio
          fileName: Act2-CrowdHooray-alexa.mp3
        - !sf-textfrag
          text: You take the decomposing fish, place it in a tightly sealed bag and beat a hasty retreat.
        - !sf-audio
          fileName: Act2-RunAway-alexa.mp3
        - !sf-condition
          conditions:
          - HasBread
          trueResultFragments:
          - !sf-condition
            conditions:
            - HasSauerkraut
            trueResultFragments:
            - !sf-textfrag
              text: Say make a sandwich when you are ready to make a sandwich for Terrence.
            falseResultFragments:
            - !sf-textfrag
              text: Say go to the kitchen when you are ready.
          falseResultFragments:
          - !sf-condition
            conditions:
            - HasSauerkraut
            trueResultFragments:
            - !sf-textfrag
              text: Say go to the pond when you are ready.
            falseResultFragments:
            - !sf-textfrag
              text: You can go to the pond or go to the kitchen.
      clientSpeechReprompts:
      - speechFragments:
        - !sf-condition
          conditions:
          - HasBread
          trueResultFragments:
          - !sf-condition
            conditions:
            - HasSauerkraut
            trueResultFragments:
            - !sf-textfrag
              text: Say make a sandwich when you are ready to make a sandwich for Terrence
            falseResultFragments:
            - !sf-textfrag
              text: Say go to the kitchen when you are ready.
          falseResultFragments:
          - !sf-condition
            conditions:
            - HasSauerkraut
            trueResultFragments:
            - !sf-textfrag
              text: Say go to the pond when you are ready.
            falseResultFragments:
            - !sf-textfrag
              text: You can go to the pond or go to the kitchen.
  choices:
  - intentName: GotoLocationIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: KitchenStart
        requiredSlotValues:
          location:
          - kitchen
      - nodeMap: !nm-singlenode
          nodeName: PondStart
        requiredSlotValues:
          location:
          - pond
  - intentName: MakeSandwichIntent
    conditions:
    - HasBread
    - HasSauerkraut
    nodeMapping: !nm-singlenode
      nodeName: MakeASandwich
  actions:
  - !na-inventory
    item: !nt-uniqueitem
      name: Mackerel
    actionType: Add
- name: KitchenStart
  responseSet:
  - - cardTitle: Visit Kitchen.
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: The MacDonalds are a gentle and trusting couple who never lock their front door. A habit that often works to your advantage. You snuffle your way into the kitchen and find a cell phone on the counter and a refrigerator that looks like a very promising place to find some sauerkraut. Would you like to call somebody, or look in the fridge?
      repromptTextResponse: Would you like to call somebody, or look in the fridge?
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: The MacDonalds are a gentle and trusting couple who never lock their front door. A habit that often works to your advantage.
        - !sf-audio
          fileName: Act3-SnuffleDoorOpenCLose-alexa.mp3
        - !sf-textfrag
          text: You snuffle your way into the kitchen and find a cell phone on the counter and a refrigerator that looks like a very promising place to find some sauerkraut. Would you like to call somebody, or look in the fridge?
  choices:
  - intentName: VerbTheCharacterIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: PlaceACall
        requiredSlotValues:
          verb:
          - call
          character:
          - person
  - intentName: VerbTheItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: LookInRefrigerator
        requiredSlotValues:
          item:
          - fridge
          verb:
          - look
- name: PlaceACall
  responseSet:
  - - cardTitle: Place a phone call
      sendCardResponse: false
      textFragments:
      - !tf-simple
        text: You place a call but it doesn't go so well.  Maybe you should be more specific about who you’re calling instead of dialing some random yahoo.  You should look in the refrigerator.
      repromptTextResponse: When you’re ready to look in the refrigerator, say look in fridge.
      clientResponses:
      - speechFragments:
        - !sf-audio
          fileName: Act3-PlaceACall-alexa.mp3
        - !sf-textfrag
          text: <break time="300ms"/>Well! That didn’t go so well.  Maybe you should be more specific about who you’re calling instead of dialing some random yahoo.  When you’re ready to look in the refrigerator, say look in fridge.
  choices:
  - intentName: VerbTheItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: LookInRefrigerator
        requiredSlotValues:
          item:
          - fridge
          verb:
          - look
- name: LookInRefrigerator
  responseSet:
  - - cardTitle: Look In Refrigerator
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You open the refrigerator and see a plastic container that looks like it’s got some sort of fermented cabbage in it.  That fermented cabbage may very well be the sauerkraut you’re looking for. Would you like to try the cabbage, or close the fridge?
      repromptTextResponse: Would you like to try the cabbage, or close the fridge?
      clientResponses:
      - speechFragments:
        - !sf-audio
          fileName: Act3-LookInRefrigerator-alexa.mp3
        - !sf-textfrag
          text: You open the refrigerator and see a plastic container that looks like it’s got some sort of fermented cabbage in it.  That fermented cabbage may very well be the sauerkraut you’re looking for. Would you like to try the cabbage, or close the fridge?
  choices:
  - intentName: VerbTheItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: TryTheKimchee
        requiredSlotValues:
          item:
          - cabbage
          verb:
          - try
          - eat
      - nodeMap: !nm-singlenode
          nodeName: CloseTheRefrigerator
        requiredSlotValues:
          item:
          - fridge
          verb:
          - close
- name: TryTheKimchee
  responseSet:
  - - cardTitle: Try The Cabbage
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You open the container of fermented cabbage and hear the reassuring sound of gas hissing out. Only one way to make sure this is sauerkraut – you take a nice healthy bite only to fing that it's kimchee.  You find it delicious even though it gives you gas.  You should probably look somewhere else.
      repromptTextResponse: Say close the fridge then you are ready to move on.
      clientResponses:
      - speechFragments:
        - !sf-audio
          fileName: Act3-OpenContainer-alexa.mp3
        - !sf-textfrag
          text: You open the container of fermented cabbage and hear the reassuring sound of gas hissing out.  Only one way to make sure this is sauerkraut – you take a nice healthy <phoneme alphabet="ipa" ph="baɪt">bite</phoneme>.
        - !sf-audio
          fileName: Act3-PigFart-alexa.mp3
        - !sf-textfrag
          text: <say-as interpret-as="interjection">yowzer</say-as>! Okay that’s definitely not sauerkraut – it tastes more like <phoneme alphabet="ipa" ph="kɪm.t͡ʃi">kimchee</phoneme>. You find it delicious even though it gives you gas. You should probably look somewhere else. Say close the fridge when you are ready to move on.
  choices:
  - intentName: VerbTheItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: CloseTheRefrigerator
        requiredSlotValues:
          item:
          - fridge
          verb:
          - close
- name: CloseTheRefrigerator
  responseSet:
  - - cardTitle: Close The Refrigerator
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: As the refrigerator door shuts, you notice a sign on it.  It’s an advertisement for a home sauerkraut delivery service with the unlikely name of UberSauer. Their phone number is 867-5309.  Let me know when you are ready to call the delivery service.
      repromptTextResponse: When you are ready, say call the delivery service.
      clientResponses:
      - speechFragments:
        - !sf-audio
          fileName: Act3-CloseTheRefrigerator-alexa.mp3
        - !sf-textfrag
          text: As the refrigerator door shuts, you notice a sign on it. It’s an advertisement for a home sauerkraut delivery service with the unlikely name of UberSauer. Their phone number is 86753O9.  When you are ready, say call the delivery service.
  choices:
  - intentName: VerbTheCharacterIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: CallUberSauer
        requiredSlotValues:
          verb:
          - call
          character:
          - delivery service
- name: CallUberSauer
  responseSet:
  - - cardTitle: Call UberSauer
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: A man named Arnold picks up the phone, mistakes you for Mrs. MacDonald and promises to bring you some sauerkraut right away.
      repromptTextResponse: Would you like to wait for Arnold, or go outside?
      clientResponses:
      - speechFragments:
        - !sf-audio
          fileName: Act3-CallUberSauer-alexa.mp3
        - !sf-textfrag
          text: <break time="250ms"/><say-as interpret-as="interjection">dynomite</say-as>.  Home cabbage delivery. Who knew?  <break time="250ms"/>Would you like to wait for Arnold, or go outside?
  choices:
  - intentName: WaitForIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: WaitForArnold
        requiredSlotValues:
          character:
          - Arnold
  - intentName: GotoLocationIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: GoOutsideHouse
        requiredSlotValues:
          location:
          - outside
- name: WaitForArnold
  responseSet:
  - - cardTitle: Wait For Arnold
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You open the door and see a dark haired man in a white jumpsuit with the UberSauer logo and the name Arnold on it.  He’s carrying a box that must contain the sauerkraut and is making a big show of looking everwhere but at you.  He calls for Mrs. MacDonald to no avail.  You try to get his attention, but he puts you off and eventually leaves.  Well, that wasn’t very nice of him, maybe you should try waiting outside until he returns.
      repromptTextResponse: Say go outside when you are ready.
      clientResponses:
      - speechFragments:
        - !sf-audio
          fileName: Act3-ArnoldComesToDoor-alexa.mp3
        - !sf-textfrag
          text: You open the door and see a dark haired man in a white jumpsuit with the UberSauer logo and the name Arnold on it.  He’s carrying a box that must contain the sauerkraut, and is making a big show of looking everywhere but at you.
        - !sf-audio
          fileName: Act3-AnyoneAtHome-alexa.mp3
        - !sf-textfrag
          text: <break time="250ms"/>You politely, but firmly, butt him with your head.
        - !sf-audio
          fileName: Act3-WhatACuteLittlePiggy-alexa.mp3
        - !sf-textfrag
          text: <break time="250ms"/>He pats you on your head much to your annoyance.
        - !sf-audio
          fileName: Act3-TurnYouIntoBratwurst-alexa.mp3
        - !sf-textfrag
          text: <break time="250ms"/>Arnold steps away from the door and then looks pointedly at you.<break time="250ms"/>
        - !sf-audio
          fileName: Act3-NoSauerkrautForYou-alexa.mp3
        - !sf-textfrag
          text: Well, that wasn’t very helpful. Maybe you should try waiting outside until he returns. Say go outside when you are ready.
  choices:
  - intentName: GotoLocationIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: GoOutsideHouse
        requiredSlotValues:
          location:
          - outside
  actions:
  - !na-recordvisit
- name: GoOutsideHouse
  responseSet:
  - - cardTitle: Go Outside House
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: Leaving the house door open, you plop down lazily into some tall grass at the side of the house and quietly groom your twisty little tail.
      - !tf-condition
        conditions:
        - AlreadySawArnold
        trueResultFragments:
        - !tf-simple
          text: Sure enough, the UberSauer delivery van screeches up again. Arnold jumps out of the van, scampers to the open front door and leans in. After a minute or two of standing patiently at the door, he shrugs, sets the package of sauerkraut down and screeches off.
        falseResultFragments:
        - !tf-simple
          text: A van with the UberSauer logo arrives in front of the house and a man in a white jumpsuit with the name "Arnold" on it gets out and scampers to the open front door.The man is carrying a package of what must be sauerkraut. He stops at the door and leans in. After a minute or two of standing patiently at the door, he shrugs, sets the package of sauerkraut down and heads back to the van.
      - !tf-simple
        text: You let go of your freshly groomed tail, and after it springs back into place, grab the sauerkraut.
      repromptTextResponse: Let me know if you would like to go to the pond or the barn next.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: Leaving the house door open, you plop down lazily into some tall grass at the side of the house and quietly groom your twisty little tail.
        - !sf-audio
          fileName: Act3-OpenDoorSplopDown-alexa.mp3
        - !sf-condition
          conditions:
          - AlreadySawArnold
          trueResultFragments:
          - !sf-textfrag
            text: <break time="500ms"/>Sure enough, the UberSauer delivery van screeches up again.
          - !sf-audio
            fileName: Act3-ArnoldArrivesShort-alexa.mp3
          - !sf-textfrag
            text: Arnold jumps out of the van,  scampers to the open front door and leans in.
          falseResultFragments:
          - !sf-textfrag
            text: <break time="500ms"/>A van with the UberSauer logo arrives in front of the house and a man in a white jumpsuit with the name “Arnold” on it gets out and scampers to the open front door.
          - !sf-audio
            fileName: Act3-OutsideArnoldArrives-alexa.mp3
          - !sf-textfrag
            text: The man is carrying a package of what must be sauerkraut.  He stops at the door and leans in.
        - !sf-audio
          fileName: Act3-YooHooKnockKnock-alexa.mp3
        - !sf-condition
          conditions:
          - AlreadySawArnold
          trueResultFragments:
          - !sf-textfrag
            text: <break time="500ms"/>After a minute or two of standing patiently at the door, he shrugs, sets the package of sauerkraut down and screeches off.
          - !sf-audio
            fileName: Act3-ArnoldLeavesShort-alexa.mp3
          falseResultFragments:
          - !sf-textfrag
            text: <break time="500ms"/>After a minute or two of standing patiently at the door, he shrugs, sets the package of sauerkraut down and heads back to the van.
          - !sf-audio
            fileName: Act3-OutsideArnoldLeaves-alexa.mp3
        - !sf-textfrag
          text: You let go of your freshly groomed tail, and after it springs back into place, grab the sauerkraut.
        - !sf-audio
          fileName: Act3-Boing-alexa.mp3
        - !sf-condition
          conditions:
          - HasBread
          trueResultFragments:
          - !sf-condition
            conditions:
            - HasMackerel
            trueResultFragments:
            - !sf-textfrag
              text: Say make a sandwich when you are ready to make a sandwich for Terrence.
            falseResultFragments:
            - !sf-textfrag
              text: Say go to the barn when you are ready.
          falseResultFragments:
          - !sf-condition
            conditions:
            - HasMackerel
            trueResultFragments:
            - !sf-textfrag
              text: Say go to the pond when you are ready.
            falseResultFragments:
            - !sf-textfrag
              text: When you are ready, you can say go to the pond, or go to the barn.
      clientSpeechReprompts:
      - speechFragments:
        - !sf-condition
          conditions:
          - HasBread
          trueResultFragments:
          - !sf-condition
            conditions:
            - HasMackerel
            trueResultFragments:
            - !sf-textfrag
              text: Say make a sandwich when you are ready to make a sandwich for Terrence the Rat.
            falseResultFragments:
            - !sf-textfrag
              text: Say go to the barn when you are ready.
          falseResultFragments:
          - !sf-condition
            conditions:
            - HasMackerel
            trueResultFragments:
            - !sf-textfrag
              text: Say go to the pond when you are ready.
            falseResultFragments:
            - !sf-textfrag
              text: When you are ready, you can say go to the pond, or go to the barn.
  choices:
  - intentName: GotoLocationIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: BarnStart
        requiredSlotValues:
          location:
          - barn
      - nodeMap: !nm-singlenode
          nodeName: PondStart
        requiredSlotValues:
          location:
          - pond
  - intentName: MakeSandwichIntent
    conditions:
    - HasBread
    - HasMackerel
    nodeMapping: !nm-singlenode
      nodeName: MakeASandwich
  actions:
  - !na-inventory
    item: !nt-uniqueitem
      name: Sauerkraut
    actionType: Add
- name: PondStart
  responseSet:
  - - cardTitle: Visit Pond.
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: Nothing like a bracing walk to the pond through the crisp morning air to collect your thoughts and rejoice in the solitude of nature. Unfortunately, you come upon Old Man MacDonald and he's singing to himself. Hmmm… Looks like the missing keys really got to old man MacDonald and he’s come down to the pond to feed the ducks. He sets down a leather briefcase after pulling out a loaf of bread. He takes the bread out of a plastic bag, piches the bag into a nearby wastebasket and starts feeding the ducks. You’ll need bread to make your sandwich. I bet he wouldn’t mind feeding a pig.
      repromptTextResponse: Would you like to beg for bread, or look in the wastebasket?
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: Nothing like a bracing walk to the pond through the crisp morning air to collect your thoughts and rejoice in the solitude of nature and <break time="250ms"/><prosody volume="x-loud">Oh my!</prosody>
        - !sf-audio
          fileName: Act4-IDidItMyWay-alexa.mp3
        - !sf-textfrag
          text: <say-as interpret-as="interjection">well well</say-as> - Looks like the missing keys really got to old man MacDonald - and he’s come down to the pond to sing maudlin songs and feed his ducks.  He sets down a beat up old leather briefcase after pulling out a loaf of bread.  He takes the bread out of a plastic bag, pitches the bag into a nearby wastebasket and starts feeding the birds.
        - !sf-audio
          fileName: Act4-DucksQuacking-alexa.mp3
        - !sf-textfrag
          text: <break time="250ms"/>You’ll need bread to make your sandwich.  I bet he wouldn’t mind feeding a pig.  Would you like to beg for bread, or look in the wastebasket?
  choices:
  - intentName: TakeItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: BegForBread1
        requiredSlotValues:
          item:
          - bread
  - intentName: VerbTheItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: LookInWastebasket
        requiredSlotValues:
          item:
          - wastebasket
          verb:
          - look
- name: BegForBread1
  responseSet:
  - - cardTitle: Beg For Bread
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You approach old man MacDonald, flop on your back, wiggle your tummy and make the cutest pig noises you can think of, but the farmer ignores you.  Well, that’s just great – once again, you’ve debased yourself for nothing.  Maybe you should look in the wastebasket?
      repromptTextResponse: Would you like to continue begging for bread, or look in the wastebasket?
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You approach old man MacDonald, flop on your back, wiggle your tummy, and make the cutest pig noises you can think of.
        - !sf-audio
          fileName: Act4-BegForBread1-alexa.mp3
        - !sf-textfrag
          text: <break time="250ms"/>Well, that’s just great – once again, you’ve debased yourself for nothing.  Would you like to continue begging for bread, or look in the wastebasket?
  choices:
  - intentName: TakeItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: BegForBread2
        requiredSlotValues:
          item:
          - bread
  - intentName: VerbTheItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: LookInWastebasket
        requiredSlotValues:
          item:
          - wastebasket
          verb:
          - look
- name: BegForBread2
  responseSet:
  - - cardTitle: Still Begging For Bread
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: No.  I’m not letting you do that.  Ick.  I have my limits. You should look in the wastebasket.
      repromptTextResponse: Say look in wastebasket when you're ready to look in the wastebasket.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You start wriggling your hoggish snout... <say-as interpret-as="interjection">oh brother</say-as> <break time="250ms"/>No. I’m not letting you do this. I have my limits.
        - !sf-audio
          fileName: Act4-MarimbaDisappointment-alexa.mp3
        - !sf-textfrag
          text: Say look in wastebasket when you're ready to look in the wastebasket.
  choices:
  - intentName: VerbTheItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: LookInWastebasket
        requiredSlotValues:
          item:
          - wastebasket
          verb:
          - look
- name: LookInWastebasket
  responseSet:
  - - cardTitle: Look In Wastebasket
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: Well - not much to see in there. It's a small wastebasket after all. There’s the plastic bag old man MacDonald pitched and a bunch of old turnips. Would you like to take the bag, or take the turnips?
      repromptTextResponse: Would you like to take the bag, or take the turnips?
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: There's propbably not going to be a whole lot in there. It's a small wastebasket after all.
        - !sf-audio
          fileName: Act4-RustlingTrashcan-alexa.mp3
        - !sf-textfrag
          text: After a bit of poking around, you find the bag old man MacDonald pitched, and a bunch of old turnips. Would you like to take the bag, or take the turnips?
  choices:
  - intentName: TakeItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: TakeTheTurnips
        requiredSlotValues:
          item:
          - turnips
      - nodeMap: !nm-singlenode
          nodeName: TakeTheBag
        requiredSlotValues:
          item:
          - bag
- name: TakeTheBag
  responseSet:
  - - cardTitle: Take The Bag
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: Aside from a few sad looking crumbs, the bag is empty. No…wait a minute…you look closer and see…nothing. Absolutely nothing. Zero, zilch, nada. You should take the turnips.
      repromptTextResponse: When you are ready, say take the turnips.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: Aside from a few sad looking crumbs, the bag is empty.
        - !sf-audio
          fileName: Act4-CrowdAwwww-alexa.mp3
        - !sf-textfrag
          text: No…wait a minute…you look closer and see…nothing. Absolutely nothing. Zero, zilch, nada. Yes. That's right. You get nothing! <break time="500ms"/>I humbly submit that you take the turnips.
  choices:
  - intentName: TakeItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: TakeTheTurnips
        requiredSlotValues:
          item:
          - turnips
- name: TakeTheTurnips
  responseSet:
  - - cardTitle: Take The Turnips
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: Yuck! The turnips look and smell like they’ve been in the wastebasket for quite some time. They do look about the right size for throwing though. Do you want to throw the turnips at the farmer or feed them to the ducks?
      repromptTextResponse: Say throw turnips to throw them at the farmer, or feed the ducks to feed them to the birds.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: <say-as interpret-as="interjection">yuck</say-as> <break time="250ms"/> The turnips look and smell like they’ve been in the wastebasket for quite some time. On the other hand, they do look about the right size for throwing.  Say throw turnips to throw them at the farmer, or feed the ducks to feed them to the birds.
  choices:
  - intentName: VerbTheItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: FeedTheDucks1
        requiredSlotValues:
          item:
          - ducks
          verb:
          - feed
      - nodeMap: !nm-singlenode
          nodeName: ThrowTheTurnips1
        requiredSlotValues:
          item:
          - turnips
          verb:
          - throw
  - intentName: VerbTheItemAtTheCharacterIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: ThrowTheTurnips1
        requiredSlotValues:
          item:
          - turnips
          verb:
          - throw
          character:
          - farmer
- name: FeedTheDucks1
  responseSet:
  - - cardTitle: Feed The Ducks
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You throw some of the turnips in the water and the ducks hastily swim over to you in the hopes of finding food.  The ducks nose the turnips a few times – glare at you accusatorily and swim away. Clearly they are not amused.
      repromptTextResponse: Say throw turnips when you are ready to throw them at the farmer.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You throw some of the turnips in the water and the ducks hastily swim over to you in the hopes of finding food.
        - !sf-audio
          fileName: Act4-DucksFeedTheDucks1FadeIn-alexa.mp3
        - !sf-textfrag
          text: The ducks dubiously poke at the turnips a few times – glare at you accusatorily, and swim away
        - !sf-audio
          fileName: Act4-DucksFadeOut-alexa.mp3
        - !sf-textfrag
          text: Clearly they are not amused.   I think you should throw some turnips at the farmer.  Say throw turnips when you are ready to throw them at the farmer.
  choices:
  - intentName: VerbTheItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: ThrowTheTurnips1
        requiredSlotValues:
          item:
          - turnips
          verb:
          - throw
  - intentName: VerbTheItemAtTheCharacterIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: ThrowTheTurnips1
        requiredSlotValues:
          item:
          - turnips
          verb:
          - throw
          character:
          - farmer
  actions:
  - !na-recordvisit
- name: ThrowTheTurnips1
  responseSet:
  - - cardTitle: Throw The Turnips
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You wind up and throw a large, particularly odiferous turnip at old man MacDonald. Oh-oh that wasn't a turnip. The farmer looks at you angrily, then grabs his briefcase and hurls it at you. The briefcase misses you and lands in the pond just out of your reach. Dop you want to throw more turnips at the farmer or feed the ducks?
      repromptTextResponse: Say throw turnips to throw them at the farmer, or feed the ducks to feed the ducks.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You wind up and throw a large particularly odiferous turnip at old man MacDonald.
        - !sf-audio
          fileName: Act4-ThrowTheTurnips1Splat-alexa.mp3
        - !sf-textfrag
          text: <say-as interpret-as="interjection">uh oh</say-as> – I don’t think that was a turnip.  The farmer looks at you angrily.
        - !sf-audio
          fileName: Act4-YouAChimpanzee-alexa.mp3
        - !sf-textfrag
          text: <break time="500ms"/> The farmer grabs his briefcase and hurls it at you. It just misses you and lands in the pond, just out of your reach.
        - !sf-audio
          fileName: Act4-ThrowTheTurnips1Splash-alexa.mp3
        - !sf-textfrag
          text: Would you like to throw more, <say-as interpret-as="interjection">ahem</say-as>, turnips at the farmer, or try feeding the ducks?
  choices:
  - intentName: VerbTheItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: ThrowTheTurnips2
        requiredSlotValues:
          item:
          - turnips
          verb:
          - throw
      - nodeMap: !nm-singlenode
          nodeName: FeedTheDucks2
        requiredSlotValues:
          item:
          - ducks
          verb:
          - feed
  - intentName: VerbTheItemAtTheCharacterIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: ThrowTheTurnips2
        requiredSlotValues:
          item:
          - turnips
          verb:
          - throw
          character:
          - farmer
- name: ThrowTheTurnips2
  responseSet:
  - - cardTitle: Throw More Turnips
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You wind up for another throw at the farmer, but he looks at you and shakes his finger. I don’t think that’s such a good idea. Why don't you try feeding the ducks instead?
      repromptTextResponse: Say feed the ducks when you want to feed the ducks.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You wind up for another throw at the farmer, but he looks at you and shakes his finger.
        - !sf-audio
          fileName: Act4-BadPig-alexa.mp3
        - !sf-textfrag
          text: While it would probably be very entertaining, I don’t think throwing another turnip is such a good idea. Say! Why don’t you try feeding the ducks? Say feed the ducks when you want to feed the ducks.
  choices:
  - intentName: VerbTheItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: FeedTheDucks2
        requiredSlotValues:
          item:
          - ducks
          verb:
          - feed
- name: FeedTheDucks2
  responseSet:
  - - cardTitle: Feed The Ducks
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: You throw some of the turnips in the water. The ducks hastily swim over to you in the hopes of finding food. In their haste, the ducks create a wake and push the briefcase towards you. Upon reaching the turnips, the ducks glare at you and swim away. The briefcase floats to the shore.
      repromptTextResponse: Say open the briefcase when you’re ready to look inside.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You throw some of the turnips in the water. The ducks hastily swim over to you in the hopes of finding food.
        - !sf-condition
          conditions:
          - FedTheDucksAlready
          trueResultFragments:
          - !sf-textfrag
            text: <break time="250ms"/>You know, they really are quite forgetful.
        - !sf-audio
          fileName: Act4-DucksFeedTheDucks1FadeIn-alexa.mp3
        - !sf-textfrag
          text: In their haste, the ducks create a wake and push the briefcase towards you.
        - !sf-condition
          conditions:
          - FedTheDucksAlready
          trueResultFragments:
          - !sf-textfrag
            text: <break time="350ms"/>Upon reaching the turnips, the ducks experience an overwhelming sense of deja vu, glare menacingly at you and then swim away.
          falseResultFragments:
          - !sf-textfrag
            text: <break time="350ms"/>When they reach the turnips, the ducks dubiously poke at them a few times – glare at you accusatorily, and swim away
        - !sf-audio
          fileName: Act4-DucksFadeOut-alexa.mp3
        - !sf-textfrag
          text: The briefcase floats to the shore.  Say open the briefcase when you’re ready to look inside.
  choices:
  - intentName: VerbTheItemIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: OpenTheBriefcase
        requiredSlotValues:
          item:
          - briefcase
          verb:
          - open
- name: OpenTheBriefcase
  responseSet:
  - - cardTitle: Open The Briefcase
      textFragments:
      - !tf-simple
        text: Inside the briefcase you find an inflatable rubber alligator suit and a soft blanket, and immediately ponder Old Man MacDonald's irrational fear of being swaddled by an alligator. You put on the rubber suit, grab the blanket and slither towards the farmer. Old man MacDonald drops the loaf of bread and runs away. You pick up the bread and add it to your stash and need to decide what to do next.
      repromptTextResponse: Let me know if you would like to go to the barn or the kitchen next.
      clientResponses:
      - speechFragments:
        - !sf-audio
          fileName: Act4-PopOpenBriefcase-alexa.mp3
        - !sf-textfrag
          text: Inside the briefcase you find an inflatable rubber alligator suit and a soft blanket, and immediately ponder Old Man MacDonald's irrational fear of being swaddled by an alligator.
        - !sf-audio
          fileName: Act4-PopGoesTheWeasel-alexa.mp3
        - !sf-textfrag
          text: What could possibly go wrong?  You put on the rubber suit, grab the blanket and slither towards the farmer.
        - !sf-audio
          fileName: Act4-OpenTheBriefcase-alexa.mp3
        - !sf-textfrag
          text: Old man MacDonald drops the loaf of bread and runs away.  You pick up the bread and add it to your stash.
        - !sf-audio
          fileName: Act4-CrowdHooray-alexa.mp3
        - !sf-condition
          conditions:
          - HasSauerkraut
          trueResultFragments:
          - !sf-condition
            conditions:
            - HasMackerel
            trueResultFragments:
            - !sf-textfrag
              text: Say make a sandwich when you are ready to make a sandwich for Terrence.
            falseResultFragments:
            - !sf-textfrag
              text: Say go to barn when you are ready to go to the barn.
          falseResultFragments:
          - !sf-condition
            conditions:
            - HasMackerel
            trueResultFragments:
            - !sf-textfrag
              text: Say go to kitchen when you are ready to go to the kitchen.
            falseResultFragments:
            - !sf-textfrag
              text: You can go to the barn or go to the kitchen next.
      clientSpeechReprompts:
      - speechFragments:
        - !sf-condition
          conditions:
          - HasSauerkraut
          trueResultFragments:
          - !sf-condition
            conditions:
            - HasMackerel
            trueResultFragments:
            - !sf-textfrag
              text: Say make a sandwich when you are ready to make a sandwich for Terrence the Rat.
            falseResultFragments:
            - !sf-textfrag
              text: Say go to barn when you are ready to go to the barn.
          falseResultFragments:
          - !sf-condition
            conditions:
            - HasMackerel
            trueResultFragments:
            - !sf-textfrag
              text: Say go to kitchen when you are ready to go to the kitchen.
            falseResultFragments:
            - !sf-textfrag
              text: You can go to the barn or go to the kitchen next.
  choices:
  - intentName: GotoLocationIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: BarnStart
        requiredSlotValues:
          location:
          - barn
      - nodeMap: !nm-singlenode
          nodeName: KitchenStart
        requiredSlotValues:
          location:
          - kitchen
  - intentName: MakeSandwichIntent
    conditions:
    - HasMackerel
    - HasSauerkraut
    nodeMapping: !nm-singlenode
      nodeName: MakeASandwich
  actions:
  - !na-inventory
    item: !nt-uniqueitem
      name: Bread
    actionType: Add
- name: MakeASandwich
  responseSet:
  - - cardTitle: Make The Sandwich
      sendCardResponse: true
      textFragments:
      - !tf-simple
        text: Congratulations! You’ve got all the fixings for a stinky mackerel and sauerkraut sandwich! You make the sandwich and then head back to the tractor where you find old man MacDonald on his hands and knees presumably looking for his keys. Terrence the rat is leaning up against a fencepost and snickering to himself. You can give the sandwich to Old Man Macdonald or Terrence.
      repromptTextResponse: Say give the sandwich to the farmer, or give the sandwich to Terrence
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: <say-as interpret-as="interjection">all righty</say-as>!  You’ve got all the fixings for a stinky mackerel and sauerkraut sandwich!
        - !sf-audio
          fileName: Act5-Fanfare1-alexa.mp3
        - !sf-textfrag
          text: You make the sandwich and then head back to the tractor where you find old man MacDonald on his hands and knees, presumably still looking for his keys.  Terrence the rat is leaning up against a fencepost and snickering to himself.
        - !sf-audio
          fileName: Act1-TerrenceCackling-alexa.mp3
        - !sf-textfrag
          text: <break time="250ms"/>  Say give the sandwich to the farmer, or give the sandwich to Terrence.
  choices:
  - intentName: VerbTheItemToTheCharacterIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: GiveFarmerSandwich
        requiredSlotValues:
          verb:
          - give
          item:
          - sandwich
          character:
          - farmer
      - nodeMap: !nm-singlenode
          nodeName: GiveRatSandwich
        requiredSlotValues:
          verb:
          - give
          item:
          - sandwich
          character:
          - Terrence
- name: GiveFarmerSandwich
  responseSet:
  - - cardTitle: Give Sandwich To Farmer
      textFragments:
      - !tf-simple
        text: You carry the sandwich to Old Man MacDonald. The farmer looks up, takes the sandwich from you and takes a large bite and immediately spits it out in disgust. He gives the sandwich back to you and goes back to searching under the tractor. Why did you think giving a stinky mackerel and sauerkraut sandwich to the farmer was a good idea? You really should giv e it to Terrence.
      repromptTextResponse: Say give sandwich to rat to give it to Terrence.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You carry the sandwich to Old Man MacDonald.
        - !sf-audio
          fileName: Act5-GiveMacDonaldSandwich-alexa.mp3
        - !sf-textfrag
          text: The farmer takes the sandwich from you and takes a large bite.
        - !sf-audio
          fileName: Act5-HolyWhatTheHeckWasThat-alexa.mp3
        - !sf-textfrag
          text: He gives the sandwich back to you and goes back to searching under the tractor.  Why did you think giving that stinky sandwich to the farmer was a good idea?  <break time="350ms"/>Say give sandwich to rat to give it to Terrence.
  choices:
  - intentName: VerbTheItemToTheCharacterIntent
    nodeMapping: !nm-slotmap
      mappings:
      - nodeMap: !nm-singlenode
          nodeName: GiveRatSandwich
        requiredSlotValues:
          verb:
          - give
          item:
          - sandwich
          character:
          - Terrence
- name: GiveRatSandwich
  responseSet:
  - - cardTitle: Give Sandwich To Terrence
      textFragments:
      - !tf-simple
        text: You carry the sandwich to Terrence and hand it to him. Terrence drops the tractor keys and scampers off with his prized sandwich. You pick up the keys and take them to Old Man MacDonald, nudging him firmly in the seat of his pants. Old Man MacDonald takes the keys, pats you on the head and drives off in his tractor. The sun is out. Old man MacDonald is beside himself with joy and Terrence is curled up with his disgusting sandwich. He’s named it Beanie. It’s really quite disturbing. The developers at Small Basket Studios would like to thank you for playing Animal Farm P.I. and are hard at work on new and slightly off-kilter stories that should be available soon. If you liked the story or have other comments or suggestions they would love to hear from you! Please email us at developers@smallbasketstudios.com.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: You carry the sandwich to Terrence.
        - !sf-audio
          fileName: Act5-GetKeysFromTerrence-alexa.mp3
        - !sf-textfrag
          text: <break time="350ms"/>Terrence grabs the sandwich and takes a huge bite.
        - !sf-audio
          fileName: Act5-OhStinkyMackerel-alexa.mp3
        - !sf-textfrag
          text: Terrence drops the tractor keys and scampers off with his prized sandwich. You pick up the keys and take them to Old Man MacDonald, nudging him firmly in the tookus.
        - !sf-audio
          fileName: Act5-OldMacDonaldSinging-alexa.mp3
        - !sf-textfrag
          text: The sun is out, and Old man MacDonald is beside himself with joy! Terrence is curled up with his sandwich. He’s named it Beanie. It’s really quite disturbing.
        - !sf-audio
          fileName: Act5-ClosingMusic-alexa.mp3
        - !sf-textfrag
          text: <break time="500ms"/>The developers at Small Basket Studios would like to thank you for playing Animal Farm P.I., and are hard at work on new and slightly off-kilter stories that should be available soon.  If you liked the story, or have other comments or suggestions, we would love to hear from you!  Please email us at developers@smallbasketstudios.com.
        - !sf-audio
          fileName: Act5-GoatBleating-alexa.mp3
intents:
- name: YesIntent
  localizedIntents:
  - plainTextPrompt: yes
- name: NoIntent
  localizedIntents:
  - plainTextPrompt: no
- name: MakeSandwichIntent
  localizedIntents:
  - plainTextPrompt: make a sandwich for Terrence
    utterances:
    - make a sandwich for Terrence
    - make sandwich for Terrence
    - make a sandwich
    - make sandwich
    - make mackerel and sauerkraut sandwich
    - make mackerel sandwich
    - make sauerkraut sandwich
    - sandwich
- name: StartInvestigationIntent
  localizedIntents:
  - plainTextPrompt: start investigation
    utterances:
    - start
    - begin
    - begin investigation
    - start investigation
    - start game
    - begin game
- name: WallowIntent
  localizedIntents:
  - plainTextPrompt: wallow
    utterances:
    - wallow
    - wallow in mud
    - wallow a bit
    - stay and wallow
    - stay
    - play in mud
- name: DarkAndStormyIntent
  localizedIntents:
  - plainTextPrompt: dark and stormy
    utterances:
    - dark
    - dark and stormy
    - stormy
- name: BrightAndChipperIntent
  localizedIntents:
  - plainTextPrompt: bright and chipper
    utterances:
    - bright
    - bright and chipper
    - chipper
- name: EndGameIntent
  localizedIntents:
  - plainTextPrompt: End Game
    utterances:
    - stop
    - stop game
    - stop adventure
    - end
    - end game
    - end adventure
- name: ResumeIntent
  localizedIntents:
  - plainTextPrompt: resume
- name: RepeatIntent
  localizedIntents:
  - plainTextPrompt: repeat
- name: TalkToIntent
  localizedIntents:
  - plainTextPrompt: talk
    utterances:
    - talk to {character}
    - talk {character}
    - speak to {character}
    - speak {character}
  slotMappings:
    character: FarmCharacters
- name: WaitForIntent
  localizedIntents:
  - plainTextPrompt: wait
    utterances:
    - wait for {character}
    - wait {character}
    - wait for the {character}
  slotMappings:
    character: FarmCharacters
- name: TakeItemIntent
  localizedIntents:
  - plainTextPrompt: take
    utterances:
    - take {item}
    - pick {item}
    - beg for {item}
    - take the {item}
    - pickup the {item}
    - pickup {item}
  slotMappings:
    item: FarmItems
- name: VerbTheCharacterIntent
  localizedIntents:
  - plainTextPrompt: verb the character
    utterances:
    - '{verb} {character}'
    - '{verb} a {character}'
    - '{verb} the {character}'
  slotMappings:
    verb: Verbs
    character: FarmCharacters
- name: TurnOffItemIntent
  localizedIntents:
  - plainTextPrompt: turn off
    utterances:
    - turn off the {item}
    - turn off {item}
    - shut off {item}
    - shut off the {item}
  slotMappings:
    item: FarmItems
- name: GotoLocationIntent
  localizedIntents:
  - plainTextPrompt: gotolocation
    utterances:
    - go to {location}
    - go back to the {location}
    - go back to {location}
    - go to the {location}
    - see {location}
    - back to {location}
    - to the {location}
    - back to {location}
    - walk to {location}
    - walk the {location}
    - to {location}
    - go {location}
    - wait {location}
    - visit {location}
  slotMappings:
    location: FarmLocations
- name: VerbTheItemIntent
  localizedIntents:
  - plainTextPrompt: verb the item
    utterances:
    - '{verb} the {item}'
    - '{verb} in {item}'
    - '{verb} inside {item}'
    - '{verb} inside the {item}'
    - '{verb} in the {item}'
    - '{verb} {item}'
    - '{verb} your {item}'
    - '{verb} a {item}'
  slotMappings:
    verb: Verbs
    item: FarmItems
- name: VerbTheItemToTheCharacterIntent
  localizedIntents:
  - plainTextPrompt: verb the item to the character
    utterances:
    - '{verb} the {item} to the {character}'
    - '{verb} {item} to {character}'
    - '{verb} the {item} to {character}'
    - '{verb} {item} to the {character}'
  slotMappings:
    verb: Verbs
    item: FarmItems
    character: FarmCharacters
- name: VerbTheItemAtTheCharacterIntent
  localizedIntents:
  - plainTextPrompt: verb the item at the character
    utterances:
    - '{verb} the {item} at the {character}'
    - '{verb} {item} at {character}'
    - '{verb} the {item} at {character}'
    - '{verb} {item} at the {character}'
  slotMappings:
    verb: Verbs
    item: FarmItems
    character: FarmCharacters
conditions:
- !ci-nodevisit
  requiredNodes:
  - WaitForArnold
  name: AlreadySawArnold
- !ci-nodevisit
  requiredNodes:
  - FeedTheDucks1
  name: FedTheDucksAlready
- !ci-nodevisit
  requiredNodes:
  - TakeMackerel
  name: DroppedAirhorn
- !ci-nodevisit
  requiredNodes:
  - BackToBarn
  name: WentBackToBarn
- !ci-inventory
  requiredInventoryItems:
  - !nt-uniqueitem
    name: Airhorn
  name: HasAirhorn
- !ci-inventory
  requiredInventoryItems:
  - !nt-uniqueitem
    name: Mackerel
  name: HasMackerel
- !ci-inventory
  requiredInventoryItems:
  - !nt-uniqueitem
    name: Sauerkraut
  name: HasSauerkraut
- !ci-inventory
  requiredInventoryItems:
  - !nt-uniqueitem
    name: Bread
  name: HasBread
badIntentResponses:
- name: FirstBadIntentResponse
  responseSet:
  - - cardTitle: Unknown Response
      text: Unrecognized response.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: I don't recognize that response.
      clientSpeechReprompts:
      - speechFragments:
        - !sf-textfrag
          text: You can also say repeat to repeat the current story location.
- name: SecondBadIntentResponse
  responseSet:
  - - cardTitle: Unknown Response
      text: Unrecognized response.
      clientResponses:
      - speechFragments:
        - !sf-textfrag
          text: Unrecognized response. You can say repeat to repeat the current story location.
      clientSpeechReprompts:
      - speechFragments:
        - !sf-textfrag
          text: You can say stop the end the game or say repeat to repeat the current story location.
slotTypes:
- name: FarmLocations
  values:
  - value: pond
    synonyms:
    - duck pond
  - value: kitchen
  - value: barn
  - value: milfred
  - value: outside
  - value: garden
  - value: terrence
    synonyms:
    - rat
    - the rat
  - value: tractor
  - value: him
- name: FarmItems
  values:
  - value: mackerel
    synonyms:
    - fish
    - the fish
  - value: catnip
  - value: oregano
  - value: cabbage
  - value: fridge
    synonyms:
    - refrigerator
    - ice box
  - value: airhorn
  - value: briefcase
  - value: wastebasket
  - value: bread
  - value: music
  - value: record
    synonyms:
    - skipping record
  - value: phonograph
    synonyms:
    - record player
  - value: bag
  - value: ducks
    synonyms:
    - duck
  - value: turnips
    synonyms:
    - turnip
    - more turnips
  - value: keys
    synonyms:
    - key
  - value: sandwich
- name: FarmCharacters
  values:
  - value: terrence
    synonyms:
    - rat
    - the rat
  - value: arnold
    synonyms:
    - driver
  - value: animals
    synonyms:
    - more animals
  - value: him
  - value: farmer
    synonyms:
    - Old Man MacDonald
    - MacDonald
  - value: person
    synonyms:
    - someone
    - somebody
  - value: delivery service
    synonyms:
    - delivery
    - sauerkraut delivery
    - uber sauer
  - value: Milfred
    synonyms:
    - cat
    - the cat
- name: Verbs
  values:
  - value: throw
    synonyms:
    - toss
    - hurl
  - value: look
  - value: open
  - value: close
    synonyms:
    - shut
  - value: give
  - value: feed
  - value: try
  - value: eat
  - value: call
  - value: play
  - value: wake
    synonyms:
    - wake up
